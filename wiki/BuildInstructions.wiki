#summary Instructions for compiling BulletSharp.
#labels Featured

= Prerequisites =
  * CMake
  * Microsoft Visual C++ 2008-2013 (2008 not recommended)


= Instructions =

1. Fetch Bullet and !BulletSharp from SVN trunk:
  * svn checkout *`http://bullet.googlecode.com/svn/trunk/`* bullet
  * svn checkout *`http://bulletsharp.googlecode.com/svn/trunk/`* bulletsharp

2. Use CMake-gui to generate VS solution files into:<br>
bullet/msvc/2008 for "Visual Studio 9 2008"<br>
bullet/msvc/2010 for "Visual Studio 10"<br>
bullet/msvc/2012 for "Visual Studio 11"<br>
bullet/msvc/2013 for "Visual Studio 12"<br>
Set the *USE_MSVC_RUNTIME_LIBRARY_DLL* option.

If you want to use double precision, select USE_DOUBLE_PRECISION in CMake, then go to bulletsharp/src/Stdaxh.h and uncomment the following line:
  `//#define BT_USE_DOUBLE_PRECISION`

3. Open *`bullet/msvc/20xx/BULLET_PHYSICS.sln`* and build the *`MinSizeRel`* configuration.

4. Open *`bulletsharp/BulletSharp.sln`* (or `bulletsharp/(vs20xx/)BulletSharp.sln`) and select the build configuration for your graphics framework. !BulletSharp will use the Vector and Matrix classes from it. If the framework is not listed or you do not need one, then select the Generic configuration, which includes its own Vector/Matrix classes. Build the solution.


= Instructions for x64 =

The process is the same, except:
 * for Bullet, select the "Visual Studio xx Win64" generator in CMake,
 * for !BulletSharp, select the x64 solution platform in Configuration Manager.


= Errors =

Compiling !BulletSharp sometimes gives the following error:<br>
{{{error LNK2038: mismatch detected for 'RuntimeLibrary': value 'MT_StaticRelease' doesn't match value 'MD_DynamicRelease' in AssemblyInfo.obj}}}<br>
CMake sometimes fails to apply the USE_MSVC_RUNTIME_LIBRARY_DLL setting for bullet even if the option is set in CMake-gui. This results in a runtime library mismatch. To fix the error, open the CMake-gui settings for bullet again and make sure that USE_MSVC_RUNTIME_LIBRARY_DLL is checked. Then compile everything again.